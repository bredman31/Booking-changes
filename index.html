<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Room Booking Viewer - FullCalendar</title>

  <!-- CSS for FullCalendar core and resource timeline -->
  <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/index.global.min.css' rel='stylesheet' />
  <link href='https://cdn.jsdelivr.net/npm/@fullcalendar/resource-timeline@6.1.10/index.global.min.css' rel='stylesheet' />

  <!-- JS for FullCalendar core and plugins -->
  <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/index.global.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/timeline@6.1.10/index.global.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/resource-common@6.1.10/index.global.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/resource-timeline@6.1.10/index.global.min.js'></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    #calendar {
      height: 100vh;
    }
    #error-message {
      color: red;
      font-weight: bold;
      padding: 2em;
      display: none;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id='error-message'></div>
  <div id='calendar'></div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const errorEl = document.getElementById('error-message');
      const calendarEl = document.getElementById('calendar');

      // Check if FullCalendar and resourceTimeline plugin exist
      if (
        typeof FullCalendar === 'undefined' ||
        typeof FullCalendar.Calendar === 'undefined' ||
        typeof FullCalendar.ResourceTimelineView === 'undefined'
      ) {
        errorEl.style.display = 'block';
        errorEl.textContent = "Error: FullCalendar or its required plugins failed to load. Please check your internet connection or CDN links.";
        calendarEl.style.display = 'none';
        return;
      }

      const calendar = new FullCalendar.Calendar(calendarEl, {
        schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
        initialView: 'resourceTimelineDay',
        slotMinTime: '08:00:00',
        slotMaxTime: '20:00:00',
        nowIndicator: true,
        height: 'auto',
        resources: [
          { id: 'room1', title: 'Room 1' },
          { id: 'room2', title: 'Room 2' },
          { id: 'room3', title: 'Room 3' },
          { id: 'room4', title: 'Room 4' },
          { id: 'room5', title: 'Room 5' },
          { id: 'room6', title: 'Room 6' }
        ],
        events: [
          { id: '1', resourceId: 'room1', title: 'Jane Doe', start: '2025-06-20T10:00:00', end: '2025-06-20T11:00:00', color: '#1E90FF' },
          { id: '2', resourceId: 'room2', title: 'John Smith', start: '2025-06-20T12:00:00', end: '2025-06-20T13:00:00', color: '#32CD32' },
          { id: '3', resourceId: 'room3', title: 'Emma Brown', start: '2025-06-20T14:00:00', end: '2025-06-20T15:00:00', color: '#FF8C00' }
        ]
      });

      calendar.render();
    });
  </script>
</body>
</html>
